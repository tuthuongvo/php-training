# Bài tập MySQL

# **- Tạo bảng**
- **KHACHHANG** (MAKH, HOTEN, DCHI, SODT, NGSINH, DOANHSO, NGDK) <br>
````
CREATE table KHACHHANG (
    MAKH CHAR(4) NOT NULL,
    HOTEN VARCHAR(40),
    DCHI VARCHAR(50),
    SODT VARCHAR(20),
    NGSINH DATE,
    NGDK DATE,
    DOANHSO FLOAT,
    PRIMARY KEY (MAKH)
  )
````
- **NHANVIEN** (MANV,HOTEN, NGVL, SODT)
````
CREATE table NHANVIEN (
    MANV CHAR(4) NOT NULL,
    HOTEN VARCHAR(40),
    SODT VARCHAR(20),
    NGVL DATE,
    PRIMARY KEY (MANV)
)
````
- **SANPHAM** (MASP,TENSP, DVT, NUOCSX, GIA)
````
CREATE table SANPHAM (
    MASP CHAR(4) NOT NULL,
    TENSP VARCHAR(40),
    DVT VARCHAR(20),
    NUOCSX VARCHAR(40),
    GIA FLOAT,
    PRIMARY KEY (MASP)
)
````
- **HOADON** (SOHD, NGHD, MAKH, MANV, TRIGIA)
````
CREATE table HOADON (
    SOHD INT NOT NULL,
    NGHD DATE,
    MAKH CHAR(4),
    MANV CHAR(4),
    TRIGIA FLOAT,
    PRIMARY KEY (SOHD)
)
````
- **CTHD** (SOHD,MASP,SL)CTHD (SOHD,MASP,SL)
````
CREATE table CTHD (
    SOHD INT NOT NULL,
    MASP CHAR(4),
    SL INT,
    PRIMARY KEY (SOHD,MASP)
)
````

# **- Tạo câu lệnh Insert, update và xoá dữ liệu**
1. Tạo các quan hệ và khai báo các khóa chính, khóa ngoại của quan hệ.
- Tạo khoá ngoại cho thuộc tính MAKH cho bảng HOADON:
````
ALTER TABLE HOADON
ADD CONSTRAINT fk_MAKH
FOREIGN KEY (MAKH)
REFERENCES KHACHHANG (MAKH);
````
- Tạo khoá ngoại cho thuộc tính MANV cho bảng HOADON:
````
ALTER TABLE HOADON
ADD CONSTRAINT fk_MANV
FOREIGN KEY (MANV)
REFERENCES NHANVIEN (MANV);
````
- Tạo khoá ngoại cho thuộc tính SOHD cho bảng CTHD:
````
ALTER TABLE CTHD
ADD CONSTRAINT fk_SOHD
FOREIGN KEY (SOHD)
REFERENCES HOADON (SOHD);
````
- Tạo khoá ngoại cho thuộc tính MASP cho bảng CTHD:
````
ALTER TABLE CTHD
ADD CONSTRAINT fk_MASP
FOREIGN KEY (MASP)
REFERENCES SANPHAM (MASP);
````
- Insert data cho bảng NHANVIEN
````
INSERT INTO NHANVIEN (MANV, HOTEN, SODT, NGVL)
VALUES ('NV01', 'Nguyen Nhu Nhut', '0927345678', '2006-04-13');
INSERT INTO NHANVIEN (MANV, HOTEN, SODT, NGVL)
VALUES ('NV02', 'Le Thi Phi Yen', '0987567390', '2006-04-21');
INSERT INTO NHANVIEN (MANV, HOTEN, SODT, NGVL)
VALUES ('NV03', 'Nguyen Van B', '0997047382', '2006-04-27');
INSERT INTO NHANVIEN (MANV, HOTEN, SODT, NGVL)
VALUES ('NV04', 'Ngo Thanh Tuan', '0913758498', '2006-06-24');
INSERT INTO NHANVIEN (MANV, HOTEN, SODT, NGVL)
VALUES ('NV05', 'Nguyen Thi Truc Thanh', '0918590387', '2006-07-20');
````
- Insert data cho bảng KHACHHANG
````
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH01', 'Nguyen Van A', '731 Tran Hung Dao, Q5, TpHCM', '08823451', '1960-10-22', '13060000', '2006-07-22');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH02', 'Tran Ngoc Han', '23/5 Nguyen Trai, Q5, TpHCM', '0908256478', '1974-04-03', '280000', '2006-07-30');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH03', 'Tran Ngoc Linh', '45 Nguyen Canh Chan, Q1, TpHCM', '0938776266', '1980-06-12', '38600000', '2006-08-05');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH04', 'Tran Minh Long', '50/34 Le Dai Hanh, Q3, TpHCM', '0917325476', '1965-03-09', '2500000', '2006-10-02');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH05', 'Le Nhat Minh', '34 Truong Dinh, Q3, TpHCM', '08246108', '1950-03-10', '21000', '2006-10-28');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH06', 'Le Hoai Thuong', '227 Nguyen Van Cu, Q5, TpHCM', '08631738', '1981-12-31', '915000', '2006-11-24');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH07', 'Nguyen Van Tam', '32/3 Tran Binh Trong, Q5, TpHCM', '0916783565', '1971-04-06', '12500', '2006-12-01');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH08', 'Phan Thi Thanh', '45/2 An Duong Vuong, Q5, TpHCM', '09384335756', '1971-01-10', '365000', '2006-12-13');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH09', 'Le Ha Vinh', '873 Le Hong Phong, Q5, TpHCM', '08654763', '1979-09-03', '70000', '2007-01-14');
INSERT INTO KHACHHANG (MAKH, HOTEN, DCHI, SODT, NGSINH,  DOANHSO, NGDK)
VALUES ('KH10', 'Ha Duy Lap', '34/34B Nguyen Trai, Q1, TpHCM', '08768904', '1983-05-02', '67500', '2007-01-16');
````
- Insert data cho bảng SANPHAM
````
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('BC01', 'But chi', 'cay', 'Singapore', '3000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('BC02', 'But chi', 'cay', 'Singapore', '5000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('BC03', 'But chi', 'cay', 'Viet Nam', '3500');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('BC04', 'But chi', 'hop', 'Viet Nam', '30000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('BB01', 'But chi', 'cay', 'Viet Nam', '5000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('BB02', 'But chi', 'cay', 'Trung Quoc', '7000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('BB03', 'But chi', 'hop', 'Thai Lan', '100000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('TV01', 'Tap 100 giay mong', 'quyen', 'Trung Quoc', '2500');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('TV02', 'Tap 200 giay mong', 'quyen', 'Trung Quoc', '4500');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('TV03', 'Tap 100 giay tot', 'quyen', 'Viet Nam', '3000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('TV04', 'Tap 200 giay tot', 'quyen', 'Viet Nam', '5500');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('TV05', 'Tap 100 trang', 'chuc', 'Viet Nam', '23000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('TV06', 'Tap 200 trang', 'chuc', 'Singapore', '53000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('TV07', 'Tap 100 trang', 'chuc', 'Trung Quoc', '34000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST01', 'So tay 500 trang', 'quyen', 'Trung Quoc', '40000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST02', 'So tay loai 1', 'quyen', 'Viet Nam', '55000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST03', 'So tay loai 2', 'quyen', 'Viet Nam', '51000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST04', 'So tay', 'quyen', 'Thai Lan', '55000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST05', 'So tay mong', 'quyen', 'Thai Lan', '20000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST06', 'Phan viet bang', 'hop', 'Viet Nam', '5000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST07', 'Phan khong bui', 'hop', 'Viet Nam', '7000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST08', 'Bong bang', 'cai', 'Viet Nam', '1000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST09', 'But long', 'cay', 'Viet Nam', '5000');
INSERT INTO SANPHAM (MASP, TENSP, DVT, NUOCSX, GIA)
VALUES ('ST10', 'But long', 'cay', 'Trung Quoc', '7000');
````
